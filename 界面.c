#include "标头.h"//界面，分页，展示
void loginmap() {
    system("cls");
    system("color 0e");
    printf("====================================================================\n");
    printf(" |================================================================| \n");
    printf(" |================================================================| \n");
    printf(" |================================================================| \n");
    printf(" |===============|Username:_________________|（仅数字）===========| \n");
    printf(" |================================================================| \n");
    printf(" |================================================================| \n");
    printf(" |=================|Cipher:_________________|=====================| \n");
    printf(" |================================================================| \n");
    printf(" |================================================================| \n");
    printf(" |================================================================| \n");
    printf(" |==========|如果没有账号，请仅输入-10086进行注册|================| \n");
    printf(" |===========|如果想退出，请输入任意非数字键|=====================| \n");
    printf(" |================================================================| \n");
    printf("====================================================================\n");
    printf("|:");
}
void ownermap() {
    system("cls");
    system("color 0b");
    printf("====================================================================\n");
    printf(" |===========|1,增加电影|================|2,删除电影|=============| \n");
    printf(" |================================================================| \n");
    printf(" |===========|3,搜索电影|================|4,修改电影|=============| \n");
    printf(" |================================================================| \n");
    printf(" |===========|5，修改票务安排|===========|6，订购影票|============| \n");
    printf(" |================================================================| \n");
    printf(" |===========|7，查询我的购票|===========|8，总览电影|============| \n");
    printf(" |================================================================| \n");
    printf(" |================================================================| \n");
    printf(" |================================================================| \n");
    printf(" |================================================================| \n");
    printf(" |=====================-------管理员-------=======================| \n");
    printf(" |====================-输入非数字键以退出界面-====================| \n");
    printf("====================================================================\n");
    printf("|:");
}
void usermap() {
    system("cls");
    system("color 0e");
    printf("====================================================================\n");
    printf(" |===========|1,搜索电影|================|2，修改票务安排|========| \n");
    printf(" |================================================================| \n");
    printf(" |================================================================| \n");
    printf(" |===========|3，订购影票|===============|4，查询我的购票|========| \n");
    printf(" |================================================================| \n");
    printf(" |================================================================| \n");
    printf(" |===========|5，总览电影|========================================| \n");
    printf(" |================================================================| \n");
    printf(" |================================================================| \n");
    printf(" |================================================================| \n");
    printf(" |================================================================| \n");
    printf(" |================================================================| \n");
    printf(" |====================-输入非数字键以退出界面-====================| \n");
    printf("====================================================================\n");
    printf("|:");
}
void registration_Permission() {//注册界面确认权限
    system("cls");
    system("color 0e");
    printf(" |================================================================| \n");
    printf(" |============请为新用户确认是否拥有管理权限（1/0）===============| \n");
    printf(" |================================================================| \n");
    printf(" |================================================================| \n");
    printf(" |================================================================| \n");
    printf(" |================================================================| \n");
    printf(" |=================_____________________==========================| \n");
    printf(" |================================================================| \n");
    printf(" |================================================================| \n");
    printf(" |================================================================| \n");
    printf(" |================================================================| \n");
    printf("|:");
}
void registration_owner() {//管理员注册界面
    system("cls");
    system("color 0b");
    printf(" |================================================================| \n");
    printf(" |================--------欢迎注册，管理员---------===============| \n");
    printf(" |================================================================| \n");
    printf(" |================================================================| \n");
    printf(" |===============Username:_________________（仅数字）=============| \n");
    printf(" |=============== Cipher :_________________=======================| \n");
    printf(" |================================================================| \n");
    printf(" |================================================================| \n");
    printf(" |================================================================| \n");
    printf(" |===================用户名与密码均小于11位=======================| \n");
    printf(" |================================================================| \n");
    printf("请输入用户名|:\n");
    printf("请输入密码|:\n");
}
void registration_user() {//普通用户注册界面
    system("cls");
    system("color 0e");
    printf(" |================================================================| \n");
    printf(" |==============--------请输入用户名与密码---------===============| \n");
    printf(" |================================================================| \n");
    printf(" |================================================================| \n");
    printf(" |===============Username:_________________（仅数字）=============| \n");
    printf(" |=============== Cipher :_________________=======================| \n");
    printf(" |================================================================| \n");
    printf(" |================================================================| \n");
    printf(" |================================================================| \n");
    printf(" |===================用户名与密码均小于11位=======================| \n");
    printf(" |================================================================| \n");
    printf("请输入用户名|:\n");
    printf("请输入密码|:\n");
}
void registration_Movie() {//添加电影的界面
    system("cls");
    system("color 0b");
    printf(" |================================================================| \n");
    printf(" |=============--------请添加电影的相关信息---------==============| \n");
    printf(" |================================================================| \n");
    printf(" |============ MovieName :_________________=======================| \n");
    printf(" |============ Month&Day :_________________=======================| \n");
    printf(" |============ StartTime :_________________=======================| \n");
    printf(" |============  EndTime  :_________________=======================| \n");
    printf(" |============Description:_________________=======================| \n");
    printf(" |================================================================| \n");
    printf(" |================================================================| \n");
    printf(" |================================================================| \n");
    printf(" |================================================================| \n");
    printf("|:");
}
void Lack_Movie() {//提示暂无电影的界面
    system("cls");
    system("color 0e");
    printf(" |================================================================| \n");
    printf(" |================================================================| \n");
    printf(" |================================================================| \n");
    printf(" |=============                                      =============| \n");
    printf(" |========---------------电影库中暂无该电影---------------========| \n");
    printf(" |=============                                      =============| \n");
    printf(" |================================================================| \n");
    printf(" |================================================================| \n");
    printf(" |================================================================| \n");
    printf(" |================================================================| \n");
    printf(" |================================================================| \n");
    printf("|:");
}
void Movie_Found(Movies* temp) {//提示找到电影的界面
    system("cls");
    system("color 0e");
    char namep[20] = { 0 }, namen[20] = { 0 };
    if (strcmp(temp->prev->Name, "0")) {
        strcpy(namep, temp->prev->Name);
    }
    else {
        strcpy(namep, "无");
    }
    if (temp->next != NULL) {
        strcpy(namen, temp->next->Name);
    }
    else {
        strcpy(namen, "无");
    }
    printf(" |==================================================================================| \n");
    printf(" |=======电影名称：%-20s\n",temp->Name);
    printf(" |================================================================| \n");
    printf(" |=======上映月：%-20d\n",temp->month);
    printf(" |================================================================| \n");
    printf(" |=======上映日期：%-20d\n",temp->day);
    printf(" |================================================================| \n");
    printf(" |=======起止时间：%02d：%02d--%02d：%02d\n", temp->starthour, temp->startminut, temp->endhour, temp->endminut);
    printf(" |================================================================| \n");
    printf(" |=======电影简介：%-50s\n",temp->decription);
    printf(" |================================================================| \n");
    printf(" |=======上一部电影：%s<---------------->下一部电影：%s\n",namep,namen);
    printf(" |=================================================================================| \n");
}
void locationprint(Movies* temp) {
    system("cls");
    printf("-------屏幕------\n");
    for (int i = 1; i < 10; i++) {
        for (int j = 1; j < 10; j++) {
            if (temp->location[i][j] == 0) {
                printf("\u25CB ");//Unicode编码，表示空心圆
            }
            else {
                printf("\u25CF ");//Unicode编码，表示实心圆
            }
        }
        printf("\n");
    }
}
void Vote_Found(User* Now,Movies* HACH) {
    int count = 0;
    if (!strcmp(Now->Wallet[count].name, "0")) {
        printf("There isn't any Movie in your inventory\n");
        Sleep(520);
        return;
    }
    while (1) {
        char namep[20];
        char namen[20];
        if (count == 0) {
            strcpy(namep, "无");
        }
        else {
            strcpy(namep, Now->Wallet[count - 1].name);
        }
        if (count >= 19 || !strcmp(Now->Wallet[count + 1].name,"0")) {
            strcpy(namen, "无");
        }
        else {
            strcpy(namen, Now->Wallet[count + 1].name);
        }
        Movies* temp = SearchforMovie(Now->Wallet[count].name, HACH);
        system("cls");
        printf(" |==================================================================================| \n");
        printf(" |=======电影名称：%-20s\n", temp->Name);
        printf(" |================================================================| \n");
        printf(" |=======上映月：%-20d\n", temp->month);
        printf(" |================================================================| \n");
        printf(" |=======上映日期：%-20d\n", temp->day);
        printf(" |================================================================| \n");
        printf(" |=======起止时间：%02d：%02d--%02d：%02d\n", temp->starthour, temp->startminut, temp->endhour, temp->endminut);
        printf(" |================================================================| \n");
        printf(" |=======电影简介：%-50s\n", temp->decription);
        printf(" |================================================================| \n");
        printf(" |=======上一部电影：%s<---------------->下一部电影：%s\n", namep, namen);
        printf(" |=================================================================================| \n");
        printf("-------屏幕------\n");
        for (int i = 1; i < 10; i++) {
            for (int j = 1; j < 10; j++) {
                if (temp->location[i][j] == 0) {
                    printf("\u25CB ");//Unicode编码，表示空心圆
                }
                else {
                    printf("\u25CF ");//Unicode编码，表示实心圆
                }
            }
            printf("\n");
        }
        printf("我的位置：%d %d\n", Now->Wallet[count].row, Now->Wallet[count].line);
        printf("输入a以查看上一部电影，输入d以查看下一部电影，输入q以退出\n");
        char TALL;
        flush();
        scanf("%c", &TALL);
        if (TALL == 'a') {
            if (count == 0) {
                printf("已经是最早的一部电影了\n");
                Sleep(200);
            }
            else {
                count--;
            }
        }
        else if (TALL == 'd') {
            if (count >= 19 || !strcmp(Now->Wallet[count + 1].name, "0")) {
                printf("已经是最晚的一部电影了\n");
                Sleep(200);
            }
            else {
                count++;
            }
        }
        else if (TALL == 'q') {
            return;
        }
        else {
            printf("Error Input\n");
            Sleep(200);
        }
    }
}
